webpackJsonp([1,9],{855:function(t,e,n){"use strict";var o=n(0),a=n(274),r=n(871),c=n(870),i=n(903),d=n(905),s=n(872),l=n(902);n.d(e,"AdminModule",function(){return p});var f=this&&this.__decorate||function(t,e,n,o){var a,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var i=t.length-1;i>=0;i--)(a=t[i])&&(c=(r<3?a(c):r>3?a(e,n,c):a(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},u=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=function(){function t(){}return t=f([n.i(o.H)({imports:[l.a,a.a,i.a,d.a],declarations:[r.a,c.a],providers:[s.a]}),u("design:paramtypes",[])],t)}()},870:function(t,e,n){"use strict";var o=n(0),a=n(121);n.d(e,"a",function(){return i});var r=this&&this.__decorate||function(t,e,n,o){var a,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var i=t.length-1;i>=0;i--)(a=t[i])&&(c=(r<3?a(c):r>3?a(e,n,c):a(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=function(){function t(t){this.af=t}return t.prototype.ngOnInit=function(){this.categories=this.af.database.list("/categories")},t=r([n.i(o.F)({selector:"app-admin-home",template:n(936),styles:[n(924)]}),c("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.d&&a.d)&&e||Object])],t);var e}()},871:function(t,e,n){"use strict";var o=n(0),a=n(872);n.d(e,"a",function(){return i});var r=this&&this.__decorate||function(t,e,n,o){var a,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var i=t.length-1;i>=0;i--)(a=t[i])&&(c=(r<3?a(c):r>3?a(e,n,c):a(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=function(){function t(t){this.adminService=t}return t=r([n.i(o.F)({selector:"appc-admin",styles:[n(925)],template:n(937)}),c("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.a&&a.a)&&e||Object])],t);var e}()},872:function(t,e,n){"use strict";var o=n(0),a=n(485);n.d(e,"a",function(){return i});var r=this&&this.__decorate||function(t,e,n,o){var a,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var i=t.length-1;i>=0;i--)(a=t[i])&&(c=(r<3?a(c):r>3?a(e,n,c):a(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=function(){function t(t){this.dataService=t,this.adminApiUrl="api/admin/doadminoperation/"}return t.prototype.do=function(){return this.dataService.get(this.adminApiUrl)},t=r([n.i(o.d)(),c("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.a&&a.a)&&e||Object])],t);var e}()},873:function(t,e,n){"use strict";var o=n(0),a=n(121),r=n(484);n.d(e,"a",function(){return d});var c=this&&this.__decorate||function(t,e,n,o){var a,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var i=t.length-1;i>=0;i--)(a=t[i])&&(c=(r<3?a(c):r>3?a(e,n,c):a(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=function(){function t(t,e){this.af=t,this.modalService=e}return t.prototype.ngOnInit=function(){this.categories=this.af.database.list("/categories")},t.prototype.delete=function(t){this.categories.remove(t).catch(function(t){console.log(t.message)})},t.prototype.save=function(t){t.dateAdded=firebase.database.ServerValue.TIMESTAMP,t.$key?this.categories.update(t.$key,{name:t.name,description:t.description}):this.categories.push(t)},t.prototype.open=function(t,e){var n=this;this.currentCategory=e?Object.assign({},e):{name:"",description:""},this.modalService.open(t).result.then(function(t){n.save(t),console.log("Closed with: "+t)},function(t){console.log("Dismissed "+n.getDismissReason(t))})},t.prototype.getDismissReason=function(t){return t===r.b.ESC?"by pressing ESC":t===r.b.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+t},t=c([n.i(o.F)({selector:"appc-category",template:n(938),styles:[n(926)]}),i("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.d&&a.d)&&e||Object,"function"==typeof(d="undefined"!=typeof r.c&&r.c)&&d||Object])],t);var e,d}()},874:function(t,e,n){"use strict";var o=n(0),a=n(121),r=n(484);n.d(e,"a",function(){return d});var c=this&&this.__decorate||function(t,e,n,o){var a,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var i=t.length-1;i>=0;i--)(a=t[i])&&(c=(r<3?a(c):r>3?a(e,n,c):a(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=function(){function t(t,e){this.af=t,this.modalService=e,this.selectedCategoryId=""}return t.prototype.ngOnInit=function(){this.categories=this.af.database.list("/categories")},t.prototype.delete=function(t){this.products.remove(t)},t.prototype.save=function(t){console.log(t.dateAdded),t.$key?this.products.update(t.$key,{name:t.name,description:t.description,quantity:t.quantity,price:t.price,dateAdded:new Date(t.dateAdded.year,t.dateAdded.month,t.dateAdded.day)}):(t.dateAdded=firebase.database.ServerValue.TIMESTAMP,this.products.push(t))},t.prototype.open=function(t,e){var n=this;this.currentProduct=e?Object.assign({},e):{name:"",description:"",price:"",quantity:"",dateAdded:""},this.modalService.open(t).result.then(function(t){n.save(t),console.log("Closed with: "+t)},function(t){console.log("Dismissed "+n.getDismissReason(t))})},t.prototype.onChange=function(){this.products=this.af.database.list("/products/"+this.selectedCategoryId)},t.prototype.getDismissReason=function(t){return t===r.b.ESC?"by pressing ESC":t===r.b.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+t},t=c([n.i(o.F)({selector:"appc-product",template:n(939),styles:[n(927)]}),i("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.d&&a.d)&&e||Object,"function"==typeof(d="undefined"!=typeof r.c&&r.c)&&d||Object])],t);var e,d}()},902:function(t,e,n){"use strict";var o=n(89),a=n(871),r=n(870),c=n(873),i=n(874);n.d(e,"a",function(){return s});var d=[{path:"",component:a.a,children:[{path:"home",component:r.a},{path:"category",component:c.a},{path:"product",component:i.a}]}],s=o.a.forChild(d)},903:function(t,e,n){"use strict";var o=n(0),a=n(274),r=n(873),c=n(904);n.d(e,"a",function(){return s});var i=this&&this.__decorate||function(t,e,n,o){var a,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var i=t.length-1;i>=0;i--)(a=t[i])&&(c=(r<3?a(c):r>3?a(e,n,c):a(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(){}return t=i([n.i(o.H)({imports:[a.a],exports:[r.a],declarations:[r.a],providers:[c.a]}),d("design:paramtypes",[])],t)}()},904:function(t,e,n){"use strict";var o=n(0);n.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,n,o){var a,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var i=t.length-1;i>=0;i--)(a=t[i])&&(c=(r<3?a(c):r>3?a(e,n,c):a(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(){}return t=a([n.i(o.d)(),r("design:paramtypes",[])],t)}()},905:function(t,e,n){"use strict";var o=n(0),a=n(274),r=n(874),c=n(906);n.d(e,"a",function(){return s});var i=this&&this.__decorate||function(t,e,n,o){var a,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var i=t.length-1;i>=0;i--)(a=t[i])&&(c=(r<3?a(c):r>3?a(e,n,c):a(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(){}return t=i([n.i(o.H)({imports:[a.a],exports:[r.a],declarations:[r.a],providers:[c.a]}),d("design:paramtypes",[])],t)}()},906:function(t,e,n){"use strict";var o=n(0),a=n(485);n.d(e,"a",function(){return i});var r=this&&this.__decorate||function(t,e,n,o){var a,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var i=t.length-1;i>=0;i--)(a=t[i])&&(c=(r<3?a(c):r>3?a(e,n,c):a(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=function(){function t(t){this.dataService=t,this.adminApiUrl="api/admin/product/"}return t=r([n.i(o.d)(),c("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.a&&a.a)&&e||Object])],t);var e}()},924:function(t,e){t.exports=""},925:function(t,e){t.exports="a.active{\n  font-weight:bold; }\n"},926:function(t,e){t.exports=""},927:function(t,e){t.exports=""},936:function(t,e){t.exports='<p>Admin home</p>\n\n<div class="row">\n    <a routerLink="../category">\n        <div class="col-md-6 card card-inverse card-info text-xs-center">\n            <div class="card-block">\n                <blockquote class="card-blockquote">\n                    <p>{{(categories | async)?.length}}</p>\n                    <footer>Total categories</footer>\n                </blockquote>\n            </div>\n        </div>\n    </a>\n</div>'},937:function(t,e){t.exports='<ol class="breadcrumb">\n    <li class="breadcrumb-item">\n        <a routerLinkActive="active"  routerLink="home">Admin Home</a>\n    </li>\n    <li class="breadcrumb-item">\n        <a routerLinkActive="active" routerLink="category">Category</a>\n    </li>\n    <li class="breadcrumb-item">\n        <a routerLinkActive="active" routerLink="product">Product</a>\n    </li>\n</ol>\n\n<router-outlet></router-outlet>'},938:function(t,e){t.exports='<table class="table">\n  <thead class="thead-default">\n    <tr>\n      <th>Id</th>\n      <th>Category name</th>\n      <th>Date Added</th>\n      <th>Description</th>\n      <th>\n        <button class="btn btn-success" (click)="open(template, null)">New <i class="fa fa-plus"></i> </button>\n      </th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr *ngFor="let category of categories | async">\n      <th scope="row"> {{category.$key}}</th>\n      <td>{{category.name}}</td>\n      <td>{{category.dateAdded | date: \'dd/MM/yyyy hh:mm a\'}}</td>\n      <td>{{category.description}}</td>\n      <td>\n        <div class="btn-group" role="group" aria-label="Categories editing buttons">\n          <button type="button" class="btn btn-sm btn-warning" (click)="open(template, category)">\n              <i class="fa fa-pencil"></i>\n          </button>\n          <button type="button" class="btn btn-sm btn-danger" (click)="delete(category)">\n              <i class="fa fa-trash-o"></i>\n          </button>\n        </div>\n      </td>\n    </tr>\n  </tbody>\n</table>\n\n\n\n<!--Modal template-->\n<template #template let-c="close" let-d="dismiss">\n  <div class="modal-header">\n    <button type="button" class="close" aria-label="Close" (click)="d(\'Cross click\')">\n      <span aria-hidden="true">&times;</span>\n    </button>\n    <h4 class="modal-title">Upsert category</h4>\n  </div>\n  <div class="modal-body">\n\n    <form #hf="ngForm" novalidate role="form">\n      <div class="form-group">\n        <label>Name</label>\n        <input type="text" [class.error]="!name.valid" class="form-control" placeholder="Name" [(ngModel)]="currentCategory.name"\n          name="name" ngControl="name" required #name="ngModel" />\n        <div *ngIf="!name.valid && name.touched" class="form-control-feedback">\n          Name is required\n        </div>\n      </div>\n      <div class="form-group">\n        <label>Description</label>\n        <textarea [class.error]="!description.valid" class="form-control" placeholder="description" [(ngModel)]="currentCategory.description"\n          name="description" ngControl="description" required #description="ngModel"></textarea>\n        <label *ngIf="!description.valid && description.touched" class="form-control-feedback">\n            Description is required\n         </label>\n      </div>\n    </form>\n  </div>\n  <div class="modal-footer">\n    <button type="submit" class="btn btn-secondary" [disabled]="!hf.form.valid" (click)="c(currentCategory)">Upsert</button>\n    <button type="button" class="btn btn-warning" (click)="d(\'Close click\')">Close</button>\n  </div>\n</template>\n\n<template ngbModalContainer></template>'},939:function(t,e){t.exports='<div class="row col-md-6" *ngIf="categories">\n\t<div class="form-group">\n\t\t<label for="categoriesSelect">Categories <span *ngIf="selectedCategory">({{selectedCategoryId}})</span></label>\n\t\t<select class="form-control" id="categoriesSelect" name="category" [(ngModel)]="selectedCategoryId" required (ngModelChange)="onChange(selectedCategoryId)">\n      <option selected="true" value="0">Please select...</option>\n      <option *ngFor="let category of categories | async" [value]="category.$key">{{category.name}}</option>\n    </select>\n\t</div>\n</div>\n\n<div class="row" *ngIf="products">\n\t<table class="table table-striped">\n\t\t<thead>\n\t\t\t<tr>\n\t\t\t\t<th>Id</th>\n\t\t\t\t<th>Name</th>\n\t\t\t\t<th>Price</th>\n\t\t\t\t<th>Quantity</th>\n\t\t\t\t<th>Date Added</th>\n\t\t\t\t<th>\n\t\t\t\t\t<button class="btn btn-success" (click)="open(template, null)">New <i class="fa fa-plus"></i> </button>\n\t\t\t\t</th>\n\t\t\t</tr>\n\t\t</thead>\n\t\t<tbody>\n\t\t\t<tr *ngFor="let product of products | async">\n\t\t\t\t<td>{{product.$key}}</td>\n\t\t\t\t<td>{{product.name}} <i ngbTooltip="{{product.description}}" class="fa fa-info-circle hover"></i> </td>\n\t\t\t\t<td>{{product.price}}</td>\n\t\t\t\t<td>{{product.quantity}}</td>\n\t\t\t\t<td>{{product.dateAdded | date: \'dd/MM/yyyy\'}}</td>\n\t\t\t\t<td>\n\t\t\t\t\t<div class="btn-group" role="group" aria-label="Categories editing buttons">\n\t\t\t\t\t\t<button type="button" class="btn btn-sm btn-warning" (click)="open(template, product)">\n              <i class="fa fa-pencil"></i>\n          </button>\n\t\t\t\t\t\t<button type="button" class="btn btn-sm btn-danger" (click)="delete(product)">\n              <i class="fa fa-trash-o"></i>\n          </button>\n\t\t\t\t\t</div>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</tbody>\n\t</table>\n</div>\n\n\n<!--Modal template-->\n<template #template let-c="close" let-d="dismiss">\n\t<div class="modal-header">\n\t\t<button type="button" class="close" aria-label="Close" (click)="d(\'Cross click\')">\n      <span aria-hidden="true">&times;</span>\n    </button>\n\t\t<h4 class="modal-title">Upsert product</h4>\n\t</div>\n\t<div class="modal-body">\n\n\t\t<form #hf="ngForm" novalidate role="form">\n\t\t\t<div class="form-group">\n\t\t\t\t<label>Name</label>\n\t\t\t\t<input type="text" [class.error]="!name.valid" class="form-control" placeholder="Name" [(ngModel)]="currentProduct.name"\n\t\t\t\t\tname="name" ngControl="name" required #name="ngModel" />\n\t\t\t\t<div *ngIf="!name.valid && name.touched" class="form-control-feedback">\n\t\t\t\t\tName is required\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="form-group">\n\t\t\t\t<label>Price</label>\n\t\t\t\t<input type="text" [class.error]="!price.valid" class="form-control" placeholder="Price" [(ngModel)]="currentProduct.price"\n\t\t\t\t\tname="price" ngControl="price" required #price="ngModel" />\n\t\t\t\t<label *ngIf="!price.valid && price.touched" class="form-control-feedback">\n            Price is required\n         </label>\n\t\t\t</div>\n\t\t\t<div class="form-group">\n\t\t\t\t<label>Quantity</label>\n\t\t\t\t<input type="text" [class.error]="!quantity.valid" class="form-control" placeholder="Quantity" [(ngModel)]="currentProduct.quantity"\n\t\t\t\t\tname="quantity" ngControl="quantity" required #quantity="ngModel" />\n\t\t\t\t<label *ngIf="!quantity.valid && quantity.touched" class="form-control-feedback">\n            Quantity is required\n         </label>\n\t\t\t</div>\n\t\t\t<div class="form-group">\n\t\t\t\t<label>Date added</label>\n\n\t\t\t\t<div class="input-group">\n\t\t\t\t\t<input class="form-control" placeholder="yyyy-mm-dd" name="dp" [(ngModel)]="model" ngbDatepicker #d="ngbDatepicker">\n\t\t\t\t\t<div class="input-group-addon" (click)="d.toggle()">\n\t\t\t\t\t\t<img src="img/calendar-icon.svg" style="width: 1.2rem; height: 1rem; cursor: pointer;" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<input class="form-control" placeholder="yyyy-mm-dd" name="dateAdded" [(ngModel)]="currentProduct.dateAdded" ngbDatepicker\n\t\t\t\t\t\t#dateAdded="ngbDatepicker">\n\t\t\t\t\t<div class="input-group-addon" (click)="dateAdded.toggle()">\n\t\t\t\t\t\t<i class="fa fa-calendar"></i>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<!--<ngb-datepicker name="dateAdded" #dateAdded [(ngModel)]="currentProduct.dateAdded"></ngb-datepicker>-->\n\n\t\t\t\t<!--<input type="text" [class.error]="!dateAdded.valid" class="form-control" placeholder="Date" [(ngModel)]="currentProduct.dateAdded"\n          name="dateAdded" ngControl="dateAdded" required #dateAdded="ngModel" />-->\n\t\t\t\t<label *ngIf="!dateAdded.valid && dateAdded.touched" class="form-control-feedback">\n            Date added is required\n         </label>\n\t\t\t</div>\n\t\t\t<div class="form-group">\n\t\t\t\t<label>Description</label>\n\t\t\t\t<textarea [class.error]="!description.valid" class="form-control" placeholder="Description" [(ngModel)]="currentProduct.description"\n\t\t\t\t\tname="description" ngControl="description" required #description="ngModel"></textarea>\n\t\t\t\t<label *ngIf="!description.valid && description.touched" class="form-control-feedback">\n            Description is required\n         </label>\n\t\t\t</div>\n\t\t</form>\n\t</div>\n\t<div class="modal-footer">\n\t\t<button type="submit" class="btn btn-secondary" [disabled]="!hf.form.valid" (click)="c(currentProduct)">Upsert</button>\n\t\t<button type="button" class="btn btn-warning" (click)="d(\'Close click\')">Close</button>\n\t</div>\n</template>\n\n<template ngbModalContainer></template>'}});
//# sourceMappingURL=1.fb33663067e6aca2ad94.bundle.map