webpackJsonp([1,9],{875:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),a=n(95),r=n(294),c=n(890),i=n(889),d=n(918),s=n(920),l=n(891),u=n(917);n.d(e,"AdminModule",function(){return p});var f=this&&this.__decorate||function(t,e,n,o){var a,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var i=t.length-1;i>=0;i--)(a=t[i])&&(c=(r<3?a(c):r>3?a(e,n,c):a(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},p=function(){function t(){}return t}();p=f([n.i(o.d)({imports:[a.a.forChild(u.a),r.a,d.a,s.a],declarations:[c.a,i.a],providers:[l.a]})],p)},889:function(t,e,n){"use strict";var o=n(0),a=n(133);n.d(e,"a",function(){return i});var r=this&&this.__decorate||function(t,e,n,o){var a,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var i=t.length-1;i>=0;i--)(a=t[i])&&(c=(r<3?a(c):r>3?a(e,n,c):a(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=function(){function t(t){this.af=t}return t.prototype.ngOnInit=function(){this.categories=this.af.database.list("/categories")},t}();i=r([n.i(o.b)({selector:"app-admin-home",template:n(949),styles:[n(937)]}),c("design:paramtypes",["function"==typeof(d="undefined"!=typeof a.a&&a.a)&&d||Object])],i);var d},890:function(t,e,n){"use strict";var o=n(0),a=n(891);n.d(e,"a",function(){return i});var r=this&&this.__decorate||function(t,e,n,o){var a,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var i=t.length-1;i>=0;i--)(a=t[i])&&(c=(r<3?a(c):r>3?a(e,n,c):a(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=function(){function t(t){this.adminService=t}return t}();i=r([n.i(o.b)({selector:"appc-admin",styles:[n(938)],template:n(950)}),c("design:paramtypes",["function"==typeof(d="undefined"!=typeof a.a&&a.a)&&d||Object])],i);var d},891:function(t,e,n){"use strict";var o=n(0),a=n(502);n.d(e,"a",function(){return i});var r=this&&this.__decorate||function(t,e,n,o){var a,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var i=t.length-1;i>=0;i--)(a=t[i])&&(c=(r<3?a(c):r>3?a(e,n,c):a(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=function(){function t(t){this.dataService=t,this.adminApiUrl="api/admin/doadminoperation/"}return t.prototype.do=function(){return this.dataService.get(this.adminApiUrl)},t}();i=r([n.i(o.e)(),c("design:paramtypes",["function"==typeof(d="undefined"!=typeof a.a&&a.a)&&d||Object])],i);var d},892:function(t,e,n){"use strict";var o=n(0),a=n(133),r=n(501);n.d(e,"a",function(){return d});var c=this&&this.__decorate||function(t,e,n,o){var a,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var i=t.length-1;i>=0;i--)(a=t[i])&&(c=(r<3?a(c):r>3?a(e,n,c):a(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=function(){function t(t,e){this.af=t,this.modalService=e}return t.prototype.ngOnInit=function(){this.categories=this.af.database.list("/categories")},t.prototype.delete=function(t){this.categories.remove(t).catch(function(t){console.log(t.message)})},t.prototype.save=function(t){t.dateAdded=firebase.database.ServerValue.TIMESTAMP,t.$key?this.categories.update(t.$key,{name:t.name,description:t.description}):this.categories.push(t)},t.prototype.open=function(t,e){var n=this;this.currentCategory=e?Object.assign({},e):{name:"",description:""},this.modalService.open(t).result.then(function(t){n.save(t),console.log("Closed with: "+t)},function(t){console.log("Dismissed "+n.getDismissReason(t))})},t.prototype.getDismissReason=function(t){return t===r.b.ESC?"by pressing ESC":t===r.b.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+t},t}();d=c([n.i(o.b)({selector:"appc-category",template:n(951),styles:[n(939)]}),i("design:paramtypes",["function"==typeof(s="undefined"!=typeof a.a&&a.a)&&s||Object,"function"==typeof(l="undefined"!=typeof r.c&&r.c)&&l||Object])],d);var s,l},893:function(t,e,n){"use strict";var o=n(0),a=n(133),r=n(501);n.d(e,"a",function(){return d});var c=this&&this.__decorate||function(t,e,n,o){var a,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var i=t.length-1;i>=0;i--)(a=t[i])&&(c=(r<3?a(c):r>3?a(e,n,c):a(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=function(){function t(t,e){this.af=t,this.modalService=e,this.selectedCategoryId=""}return t.prototype.ngOnInit=function(){this.categories=this.af.database.list("/categories")},t.prototype.delete=function(t){this.products.remove(t)},t.prototype.save=function(t){console.log(t.dateAdded),t.$key?this.products.update(t.$key,{name:t.name,description:t.description,quantity:t.quantity,price:t.price,dateAdded:new Date(t.dateAdded.year,t.dateAdded.month,t.dateAdded.day)}):(t.dateAdded=firebase.database.ServerValue.TIMESTAMP,this.products.push(t))},t.prototype.open=function(t,e){var n=this;this.currentProduct=e?Object.assign({},e):{name:"",description:"",price:"",quantity:"",dateAdded:""},this.modalService.open(t).result.then(function(t){n.save(t),console.log("Closed with: "+t)},function(t){console.log("Dismissed "+n.getDismissReason(t))})},t.prototype.onChange=function(){this.products=this.af.database.list("/products/"+this.selectedCategoryId)},t.prototype.getDismissReason=function(t){return t===r.b.ESC?"by pressing ESC":t===r.b.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+t},t}();d=c([n.i(o.b)({selector:"appc-product",template:n(952),styles:[n(940)]}),i("design:paramtypes",["function"==typeof(s="undefined"!=typeof a.a&&a.a)&&s||Object,"function"==typeof(l="undefined"!=typeof r.c&&r.c)&&l||Object])],d);var s,l},917:function(t,e,n){"use strict";var o=n(890),a=n(889),r=n(892),c=n(893);n.d(e,"a",function(){return i});var i=[{path:"",component:o.a,children:[{path:"home",component:a.a},{path:"category",component:r.a},{path:"product",component:c.a}]}]},918:function(t,e,n){"use strict";var o=n(0),a=n(294),r=n(892),c=n(919);n.d(e,"a",function(){return d});var i=this&&this.__decorate||function(t,e,n,o){var a,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var i=t.length-1;i>=0;i--)(a=t[i])&&(c=(r<3?a(c):r>3?a(e,n,c):a(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},d=function(){function t(){}return t}();d=i([n.i(o.d)({imports:[a.a],exports:[r.a],declarations:[r.a],providers:[c.a]})],d)},919:function(t,e,n){"use strict";var o=n(0);n.d(e,"a",function(){return r});var a=this&&this.__decorate||function(t,e,n,o){var a,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var i=t.length-1;i>=0;i--)(a=t[i])&&(c=(r<3?a(c):r>3?a(e,n,c):a(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},r=function(){function t(){}return t}();r=a([n.i(o.e)()],r)},920:function(t,e,n){"use strict";var o=n(0),a=n(294),r=n(893),c=n(921);n.d(e,"a",function(){return d});var i=this&&this.__decorate||function(t,e,n,o){var a,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var i=t.length-1;i>=0;i--)(a=t[i])&&(c=(r<3?a(c):r>3?a(e,n,c):a(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},d=function(){function t(){}return t}();d=i([n.i(o.d)({imports:[a.a],exports:[r.a],declarations:[r.a],providers:[c.a]})],d)},921:function(t,e,n){"use strict";var o=n(0),a=n(502);n.d(e,"a",function(){return i});var r=this&&this.__decorate||function(t,e,n,o){var a,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var i=t.length-1;i>=0;i--)(a=t[i])&&(c=(r<3?a(c):r>3?a(e,n,c):a(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=function(){function t(t){this.dataService=t,this.adminApiUrl="api/admin/product/"}return t}();i=r([n.i(o.e)(),c("design:paramtypes",["function"==typeof(d="undefined"!=typeof a.a&&a.a)&&d||Object])],i);var d},937:function(t,e){t.exports=""},938:function(t,e){t.exports="a.active{font-weight:bold}\n"},939:function(t,e){t.exports=""},940:function(t,e){t.exports=""},949:function(t,e){t.exports='<p>Admin home</p>\n\n<div class="row">\n    <a routerLink="../category">\n        <div class="col-md-6 card card-inverse card-info text-xs-center">\n            <div class="card-block">\n                <blockquote class="card-blockquote">\n                    <p>{{(categories | async)?.length}}</p>\n                    <footer>Total categories</footer>\n                </blockquote>\n            </div>\n        </div>\n    </a>\n</div>'},950:function(t,e){t.exports='<ol class="breadcrumb">\n    <li class="breadcrumb-item">\n        <a routerLinkActive="active"  routerLink="home">Admin Home</a>\n    </li>\n    <li class="breadcrumb-item">\n        <a routerLinkActive="active" routerLink="category">Category</a>\n    </li>\n    <li class="breadcrumb-item">\n        <a routerLinkActive="active" routerLink="product">Product</a>\n    </li>\n</ol>\n\n<router-outlet></router-outlet>'},951:function(t,e){t.exports='<table class="table">\n  <thead class="thead-default">\n    <tr>\n      <th>Id</th>\n      <th>Category name</th>\n      <th>Date Added</th>\n      <th>Description</th>\n      <th>\n        <button class="btn btn-success" (click)="open(template, null)">New <i class="fa fa-plus"></i> </button>\n      </th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr *ngFor="let category of categories | async">\n      <th scope="row"> {{category.$key}}</th>\n      <td>{{category.name}}</td>\n      <td>{{category.dateAdded | date: \'dd/MM/yyyy hh:mm a\'}}</td>\n      <td>{{category.description}}</td>\n      <td>\n        <div class="btn-group" role="group" aria-label="Categories editing buttons">\n          <button type="button" class="btn btn-sm btn-warning" (click)="open(template, category)">\n              <i class="fa fa-pencil"></i>\n          </button>\n          <button type="button" class="btn btn-sm btn-danger" (click)="delete(category)">\n              <i class="fa fa-trash-o"></i>\n          </button>\n        </div>\n      </td>\n    </tr>\n  </tbody>\n</table>\n\n\n\n<!--Modal template-->\n<template #template let-c="close" let-d="dismiss">\n  <div class="modal-header">\n    <button type="button" class="close" aria-label="Close" (click)="d(\'Cross click\')">\n      <span aria-hidden="true">&times;</span>\n    </button>\n    <h4 class="modal-title">Upsert category</h4>\n  </div>\n  <div class="modal-body">\n\n    <form #hf="ngForm" novalidate role="form">\n      <div class="form-group">\n        <label>Name</label>\n        <input type="text" [class.error]="!name.valid" class="form-control" placeholder="Name" [(ngModel)]="currentCategory.name"\n          name="name" ngControl="name" required #name="ngModel" />\n        <div *ngIf="!name.valid && name.touched" class="form-control-feedback">\n          Name is required\n        </div>\n      </div>\n      <div class="form-group">\n        <label>Description</label>\n        <textarea [class.error]="!description.valid" class="form-control" placeholder="description" [(ngModel)]="currentCategory.description"\n          name="description" ngControl="description" required #description="ngModel"></textarea>\n        <label *ngIf="!description.valid && description.touched" class="form-control-feedback">\n            Description is required\n         </label>\n      </div>\n    </form>\n  </div>\n  <div class="modal-footer">\n    <button type="submit" class="btn btn-secondary" [disabled]="!hf.form.valid" (click)="c(currentCategory)">Upsert</button>\n    <button type="button" class="btn btn-warning" (click)="d(\'Close click\')">Close</button>\n  </div>\n</template>\n\n<template ngbModalContainer></template>'},952:function(t,e){t.exports='<div class="row col-md-6" *ngIf="categories">\n\t<div class="form-group">\n\t\t<label for="categoriesSelect">Categories <span *ngIf="selectedCategory">({{selectedCategoryId}})</span></label>\n\t\t<select class="form-control" id="categoriesSelect" name="category" [(ngModel)]="selectedCategoryId" required (ngModelChange)="onChange(selectedCategoryId)">\n      <option selected="true" value="0">Please select...</option>\n      <option *ngFor="let category of categories | async" [value]="category.$key">{{category.name}}</option>\n    </select>\n\t</div>\n</div>\n\n<div class="row" *ngIf="products">\n\t<table class="table table-striped">\n\t\t<thead>\n\t\t\t<tr>\n\t\t\t\t<th>Id</th>\n\t\t\t\t<th>Name</th>\n\t\t\t\t<th>Price</th>\n\t\t\t\t<th>Quantity</th>\n\t\t\t\t<th>Date Added</th>\n\t\t\t\t<th>\n\t\t\t\t\t<button class="btn btn-success" (click)="open(template, null)">New <i class="fa fa-plus"></i> </button>\n\t\t\t\t</th>\n\t\t\t</tr>\n\t\t</thead>\n\t\t<tbody>\n\t\t\t<tr *ngFor="let product of products | async">\n\t\t\t\t<td>{{product.$key}}</td>\n\t\t\t\t<td>{{product.name}} <i ngbTooltip="{{product.description}}" class="fa fa-info-circle hover"></i> </td>\n\t\t\t\t<td>{{product.price}}</td>\n\t\t\t\t<td>{{product.quantity}}</td>\n\t\t\t\t<td>{{product.dateAdded | date: \'dd/MM/yyyy\'}}</td>\n\t\t\t\t<td>\n\t\t\t\t\t<div class="btn-group" role="group" aria-label="Categories editing buttons">\n\t\t\t\t\t\t<button type="button" class="btn btn-sm btn-warning" (click)="open(template, product)">\n              <i class="fa fa-pencil"></i>\n          </button>\n\t\t\t\t\t\t<button type="button" class="btn btn-sm btn-danger" (click)="delete(product)">\n              <i class="fa fa-trash-o"></i>\n          </button>\n\t\t\t\t\t</div>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</tbody>\n\t</table>\n</div>\n\n\n<!--Modal template-->\n<template #template let-c="close" let-d="dismiss">\n\t<div class="modal-header">\n\t\t<button type="button" class="close" aria-label="Close" (click)="d(\'Cross click\')">\n      <span aria-hidden="true">&times;</span>\n    </button>\n\t\t<h4 class="modal-title">Upsert product</h4>\n\t</div>\n\t<div class="modal-body">\n\n\t\t<form #hf="ngForm" novalidate role="form">\n\t\t\t<div class="form-group">\n\t\t\t\t<label>Name</label>\n\t\t\t\t<input type="text" [class.error]="!name.valid" class="form-control" placeholder="Name" [(ngModel)]="currentProduct.name"\n\t\t\t\t\tname="name" ngControl="name" required #name="ngModel" />\n\t\t\t\t<div *ngIf="!name.valid && name.touched" class="form-control-feedback">\n\t\t\t\t\tName is required\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="form-group">\n\t\t\t\t<label>Price</label>\n\t\t\t\t<input type="text" [class.error]="!price.valid" class="form-control" placeholder="Price" [(ngModel)]="currentProduct.price"\n\t\t\t\t\tname="price" ngControl="price" required #price="ngModel" />\n\t\t\t\t<label *ngIf="!price.valid && price.touched" class="form-control-feedback">\n            Price is required\n         </label>\n\t\t\t</div>\n\t\t\t<div class="form-group">\n\t\t\t\t<label>Quantity</label>\n\t\t\t\t<input type="text" [class.error]="!quantity.valid" class="form-control" placeholder="Quantity" [(ngModel)]="currentProduct.quantity"\n\t\t\t\t\tname="quantity" ngControl="quantity" required #quantity="ngModel" />\n\t\t\t\t<label *ngIf="!quantity.valid && quantity.touched" class="form-control-feedback">\n            Quantity is required\n         </label>\n\t\t\t</div>\n\t\t\t<div class="form-group">\n\t\t\t\t<label>Date added</label>\n\n\t\t\t\t<div class="input-group">\n\t\t\t\t\t<input class="form-control" placeholder="yyyy-mm-dd" name="dp" [(ngModel)]="model" ngbDatepicker #d="ngbDatepicker">\n\t\t\t\t\t<div class="input-group-addon" (click)="d.toggle()">\n\t\t\t\t\t\t<img src="img/calendar-icon.svg" style="width: 1.2rem; height: 1rem; cursor: pointer;" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<input class="form-control" placeholder="yyyy-mm-dd" name="dateAdded" [(ngModel)]="currentProduct.dateAdded" ngbDatepicker\n\t\t\t\t\t\t#dateAdded="ngbDatepicker">\n\t\t\t\t\t<div class="input-group-addon" (click)="dateAdded.toggle()">\n\t\t\t\t\t\t<i class="fa fa-calendar"></i>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<!--<ngb-datepicker name="dateAdded" #dateAdded [(ngModel)]="currentProduct.dateAdded"></ngb-datepicker>-->\n\n\t\t\t\t<!--<input type="text" [class.error]="!dateAdded.valid" class="form-control" placeholder="Date" [(ngModel)]="currentProduct.dateAdded"\n          name="dateAdded" ngControl="dateAdded" required #dateAdded="ngModel" />-->\n\t\t\t\t<label *ngIf="!dateAdded.valid && dateAdded.touched" class="form-control-feedback">\n            Date added is required\n         </label>\n\t\t\t</div>\n\t\t\t<div class="form-group">\n\t\t\t\t<label>Description</label>\n\t\t\t\t<textarea [class.error]="!description.valid" class="form-control" placeholder="Description" [(ngModel)]="currentProduct.description"\n\t\t\t\t\tname="description" ngControl="description" required #description="ngModel"></textarea>\n\t\t\t\t<label *ngIf="!description.valid && description.touched" class="form-control-feedback">\n            Description is required\n         </label>\n\t\t\t</div>\n\t\t</form>\n\t</div>\n\t<div class="modal-footer">\n\t\t<button type="submit" class="btn btn-secondary" [disabled]="!hf.form.valid" (click)="c(currentProduct)">Upsert</button>\n\t\t<button type="button" class="btn btn-warning" (click)="d(\'Close click\')">Close</button>\n\t</div>\n</template>\n\n<template ngbModalContainer></template>'}});
//# sourceMappingURL=1.bundle.map